<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vriezer App</title>
    <link rel="stylesheet" href="style (3).css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
</head>
<body>

    <div class="container">
        <!-- Header -->
        <div class="header-bar">
            <h1>Vriezer</h1>
            <div class="header-icons-wrapper">
                <button id="switch-account-knop" class="btn-beheer btn-admin" style="display: none;" title="Wissel Account"><i class="fas fa-users-cog"></i></button>
                <button id="profile-btn" class="profile-btn" title="Profiel"><i class="fas fa-user-circle"></i><img id="profile-img" src="" alt="" style="display: none;"></button>
            </div>
        </div>

        <div id="feedback-message" class="feedback"></div>
        <div id="dashboard" class="dashboard-container"></div>

        <!-- Add Item Form -->
        <form id="add-item-form">
            <div class="input-with-button" style="grid-column: 1 / 3;">
                <input type="text" id="item-naam" placeholder="Productnaam" required>
                <button type="button" id="scan-btn" class="btn-beheer"><i class="fas fa-barcode"></i></button>
                <button type="button" id="manual-ean-btn" class="btn-beheer"><i class="fas fa-keyboard"></i></button>
            </div>

            <div class="aantal-wrapper">
                <button type="button" class="aantal-btn" data-action="minus">-</button>
                <input type="number" id="item-aantal" placeholder="Aantal" value="1" step="0.25" min="0.25" required>
                <button type="button" class="aantal-btn" data-action="plus">+</button>
            </div>
            <select id="item-eenheid" required></select>
            
            <select id="item-vriezer" required><option value="" disabled selected>Kies vriezer...</option></select>
            <select id="item-schuif" required><option value="" disabled selected>Kies eerst vriezer...</option></select>
            
            <div class="form-grid-pair" style="grid-column: 1 / 3;">
                <div>
                    <label style="font-size:0.9em; font-weight:bold;">Categorie:</label>
                    <select id="item-categorie" required>
                        <option value="Geen">Geen categorie</option>
                        <option value="Vlees">ü•© Vlees</option>
                        <option value="Vis">üêü Vis</option>
                        <option value="Groenten">ü•¶ Groenten</option>
                        <option value="Fruit">üçé Fruit</option>
                        <option value="Brood">üçû Brood</option>
                        <option value="IJs">üç¶ IJs</option>
                        <option value="Restjes">üç≤ Restjes</option>
                        <option value="Saus">ü•´ Saus</option>
                        <option value="Ander">üì¶ Ander</option>
                    </select>
                </div>
                <div>
                    <label style="font-size:0.9em; font-weight:bold;">Datum:</label>
                    <input type="date" id="item-datum" required>
                </div>
            </div>
            
            <div style="grid-column: 1 / 3; display: flex; align-items: center; gap: 10px;">
                <input type="checkbox" id="remember-drawer-check" style="width: auto;">
                <label for="remember-drawer-check">Onthoud locatie</label>
            </div>
            <button type="submit">Toevoegen</button>
        </form>

        <hr>

        <!-- Tools & Lijst -->
        <div class="search-container" style="position:relative; margin-bottom:15px;">
            <i class="fas fa-search" style="position:absolute; left:10px; top:12px; color:#999;"></i>
            <input type="text" id="search-bar" placeholder="Zoek..." style="padding-left:35px;">
        </div>

        <div style="display: flex; gap: 10px; margin-bottom: 20px;">
            <button id="btn-toggle-alles" class="btn-full-width-toggle" style="margin:0;"><i class="fas fa-plus-square"></i> Alles</button>
            <button id="btn-quick-move-mode" class="btn-full-width-toggle" style="background-color: #f0ad4e; margin:0;"><i class="fas fa-dolly"></i> Verplaatsen</button>
        </div>

        <div class="vriezer-container" id="vriezer-lijsten-container"></div>
    </div>

    <!-- Sticky Footer voor Verplaatsen -->
    <div id="quick-move-footer" class="sticky-move-footer">
        <span>Selectie naar:</span>
        <select id="quick-move-vriezer"><option>Kies Vriezer...</option></select>
        <select id="quick-move-lade"><option>Kies Lade...</option></select>
        <button id="btn-confirm-move" class="btn-confirm-move">Verplaatsen</button>
        <button id="btn-cancel-move" class="btn-cancel">Annuleren</button>
    </div>

    <!-- --- MODALS --- -->

    <!-- Quick Add Modal (Vanuit Shopping List) -->
    <div id="quick-add-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header"><h2>Naar Vriezer</h2></div>
            <p>Waar heb je dit product gelegd?</p>
            <form id="quick-add-form">
                <input type="text" id="quick-add-naam" readonly style="background:#eee; margin-bottom:10px;">
                <input type="date" id="quick-add-datum" required style="margin-bottom:10px;">
                <select id="quick-add-vriezer" required style="margin-bottom:10px;"></select>
                <select id="quick-add-lade" required style="margin-bottom:20px;"></select>
                <div class="modal-buttons">
                    <button type="submit" class="btn-save">Opslaan</button>
                    <button type="button" id="btn-sluit-quick-add" class="btn-cancel">Annuleren</button>
                </div>
            </form>
        </div>
    </div>

    <!-- History Modal -->
    <div id="history-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Logboek</h2>
                <button type="button" id="btn-sluit-history" class="btn-cancel">Sluiten</button>
            </div>
            <ul id="history-list" style="list-style:none; padding:0;"></ul>
        </div>
    </div>

    <!-- QR Modal -->
    <div id="qr-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>QR Code</h2>
                <button type="button" id="btn-sluit-qr" class="btn-cancel">Sluiten</button>
            </div>
            <img id="qr-image" src="" alt="QR Code">
            <div id="qr-lade-naam"></div>
            <p style="text-align:center; color:#777; margin-top:10px;">Scan om direct deze lade te openen.</p>
        </div>
    </div>

    <!-- Edit Item Modal -->
    <div id="edit-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Item Bewerken</h2>
            <form id="edit-item-form">
                <input type="hidden" id="edit-item-id">
                <input type="text" id="edit-item-naam" required>
                <div class="aantal-wrapper" style="margin:10px 0;">
                    <button type="button" class="aantal-btn" data-action="minus">-</button>
                    <input type="number" id="edit-item-aantal" step="0.25" required>
                    <button type="button" class="aantal-btn" data-action="plus">+</button>
                </div>
                <select id="edit-item-eenheid" required style="margin-bottom:10px;"></select>
                <select id="edit-item-vriezer" required style="margin-bottom:10px;"></select>
                <select id="edit-item-schuif" required style="margin-bottom:10px;"></select>
                <select id="edit-item-categorie" required style="margin-bottom:10px;">
                    <option value="Geen">Geen</option>
                    <option value="Vlees">ü•© Vlees</option>
                    <option value="Vis">üêü Vis</option>
                    <option value="Groenten">ü•¶ Groenten</option>
                    <option value="Fruit">üçé Fruit</option>
                    <option value="Brood">üçû Brood</option>
                    <option value="IJs">üç¶ IJs</option>
                    <option value="Restjes">üç≤ Restjes</option>
                    <option value="Saus">ü•´ Saus</option>
                    <option value="Ander">üì¶ Ander</option>
                </select>
                <input type="date" id="edit-item-datum" required style="margin-bottom:20px;">
                <div class="modal-buttons">
                    <button type="submit" class="btn-save">Opslaan</button>
                    <button type="button" id="btn-cancel" class="btn-cancel">Annuleren</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Vriezer Beheer Modal -->
    <div id="vriezer-beheer-modal" class="modal-overlay">
        <div class="modal-content modal-groot">
            <div class="modal-header"><h2>Beheer</h2><button id="btn-sluit-beheer" class="btn-cancel">Sluiten</button></div>
            <div class="beheer-container">
                <div class="beheer-kolom">
                    <h3>Vriezers</h3>
                    <form id="add-vriezer-form"><input type="text" id="vriezer-naam" required placeholder="Naam"><button>Add</button></form>
                    <ul id="vriezer-beheer-lijst"></ul>
                </div>
                <div class="beheer-kolom">
                    <h3 id="lades-beheer-titel">Kies vriezer...</h3>
                    <form id="add-lade-form" style="display:none;"><input type="text" id="lade-naam" required placeholder="Naam"><button>Add</button></form>
                    <ul id="lade-beheer-lijst"></ul>
                </div>
                <div class="beheer-kolom">
                    <h3>Eenheden</h3>
                    <form id="add-eenheid-form"><input type="text" id="eenheid-naam" required placeholder="Eenheid"><button>Add</button></form>
                    <ul id="eenheid-beheer-lijst" class="shared-list"></ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal (Menu) -->
    <div id="profile-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header"><h2>Profiel</h2><button id="btn-sluit-profile" class="btn-cancel">Sluiten</button></div>
            <div class="profile-header"><i class="fas fa-user-circle"></i><img id="profile-modal-img" src="" alt="" style="display:none;"><span id="profile-email"></span></div>
            <ul class="profile-menu-list">
                <li><button id="profile-vriezer-beheer-btn" class="profile-menu-btn"><i class="fas fa-snowflake"></i> Beheer Vriezers</button></li>
                <li><button id="profile-share-btn" class="profile-menu-btn"><i class="fas fa-users"></i> Delen</button></li>
                <li><button id="profile-shopping-list-btn" class="profile-menu-btn"><i class="fas fa-shopping-cart"></i> Boodschappenlijst</button></li>
                <li><button id="profile-weekmenu-btn" class="profile-menu-btn"><i class="fas fa-calendar-alt"></i> Weekmenu</button></li>
                <li><button id="profile-history-btn" class="profile-menu-btn"><i class="fas fa-history"></i> Logboek</button></li>
                <li><button id="print-btn" class="profile-menu-btn"><i class="fas fa-print"></i> Print</button></li>
                <li><button id="export-data-btn" class="profile-menu-btn"><i class="fas fa-file-export"></i> Export</button></li>
            </ul>
            <hr>
            <button id="logout-btn" class="btn-beheer btn-logout" style="width:100%;">Uitloggen</button>
        </div>
    </div>

    <!-- Overige Modals (Ongewijzigd, alleen structureel aanwezig) -->
    <div id="scan-modal" class="modal-overlay"><div class="modal-content"><h2>Scan</h2><div id="barcode-scanner-container"></div><button id="btn-stop-scan" class="btn-cancel">Stop</button></div></div>
    <div id="switch-account-modal" class="modal-overlay"><div class="modal-content modal-groot"><div class="modal-header"><h2>Wissel</h2><button id="btn-sluit-switch-account" class="btn-cancel">X</button></div><div class="admin-huidig-beheer"><h3 id="switch-account-titel"></h3><button id="switch-terug-knop" style="display:none;">Terug</button></div><div class="beheer-container"><div id="user-switch-section" class="beheer-kolom"><ul id="user-shared-lijst" class="shared-list"></ul></div><div id="admin-switch-section" class="beheer-kolom" style="display:none;"><ul id="admin-user-lijst" class="shared-list"></ul></div></div></div></div>
    <div id="notificatie-modal" class="modal-overlay"><div class="modal-content"><h2>Let op!</h2><ul id="notificatie-lijst"></ul><button id="btn-sluit-notificatie" class="btn-cancel">Ok</button></div></div>
    <div id="share-modal" class="modal-overlay"><div class="modal-content modal-groot"><div class="modal-header"><h2>Delen</h2><button id="btn-sluit-share" class="btn-cancel">X</button></div><div class="beheer-container"><div class="beheer-kolom"><form id="share-invite-form"><input id="share-email" placeholder="Email"><button>Nodig uit</button></form></div><div class="beheer-kolom"><ul id="share-huidige-lijst" class="shared-list"></ul></div></div></div></div>
    <div id="accept-share-modal" class="modal-overlay"><div class="modal-content"><h2>Uitnodigingen</h2><ul id="accept-share-lijst"></ul><button id="btn-sluit-accept-share" class="btn-cancel">Later</button></div></div>
    
    <!-- Boodschappenlijst (Met quick-add-trigger) -->
    <div id="shopping-list-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header"><h2>Boodschappen</h2><button id="btn-sluit-shopping-list" class="btn-cancel">X</button></div>
            <form id="add-shopping-item-form" class="input-with-button"><input id="shopping-item-naam" required placeholder="Item..."><button class="btn-beheer"><i class="fas fa-plus"></i></button></form>
            <div class="modal-header" style="margin-top:20px; margin-bottom:10px;"><h3 style="margin:0;">Lijst</h3><button id="btn-clear-checked-shopping-items" class="btn-beheer" style="background:#d9534f; font-size:12px;">Wis Gekozen</button></div>
            <ul id="shopping-list" class="shopping-list"></ul>
        </div>
    </div>

    <!-- Weekmenu -->
    <div id="weekmenu-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header"><h2>Weekmenu</h2><button id="btn-sluit-weekmenu" class="btn-cancel">X</button></div>
            <form id="add-weekmenu-form"><input type="date" id="weekmenu-datum" required style="margin-bottom:10px;"><input id="weekmenu-gerecht" required placeholder="Gerecht" style="margin-bottom:10px;"><input id="weekmenu-link" placeholder="Link" style="margin-bottom:10px;"><button class="btn-beheer" style="width:100%;">Plan in</button></form>
            <div class="modal-header" style="margin-top:20px; margin-bottom:10px;"><h3 style="margin:0;">Planning</h3><button id="btn-clear-old-weekmenu" class="btn-beheer" style="background:#d9534f; font-size:12px;">Wis Oude</button></div>
            <ul id="weekmenu-list" class="shopping-list"></ul>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="app (23).js"></script>
</body>
</html>